---
title: 4.1. Console and Commands
page_version: 22
page_creator: gnodet
page_modifier: gnodet
--- pipeline:conf
{scrollbar}
{anchor:top}

h1. 4.1. Console and Commands

h2. Overview

Karaf provides a powerful console and a set of commands that can be used to perform various tasks.  Commands can be located in the root shell or in a sub-shell.  A sub-shell is a group of related commands, like commands related to the OSGi framework or the log system.

The following shells are available out-of-the-box, but the console can be [easily extended|6.1. Extending the console]:
  * [admin|#Admin shell]
  * [config|#Config shell]
  * [features|#Features shell]
  * [log|#Log shell]
  * [obr|#OBR shell]
  * [osgi|#OSGi shell]
  * [package|#Package shell]
  * [shell|#Shell shell]
  * [ssh|#SSH shell]
  * [wrapper|#Wrapper shell]

h2. Admin shell

This shell is described extensively in section [4.7. Administration].

h2. Config shell

This shell is described extensively in section [4.8. Configuration].

h2. Features shell

The features shell contains a few commands to provision entire applications easily.
More information is available on the chapter [4.6. Provisioning].

h2. Log shell

The log shell contains a few commands to display the log entries, retrieve or change the log levels:

|| Command         || Description ||
| display           | Display log entries. |
| display-exception | Display the last exception from the log. |
| get               | Show log level. |
| set               | Set log level. |

See the documentation on the [logging system|4.3. Logging system#Commands] for more informations.

h2. OBR shell

OBR ([OSGi Bundle Repository|http://www2.osgi.org/Repository]) is a proposed specification that defines an xml format for repositories of OSGi bundles and an associated service to access it.  Karaf proposes a number of commands that can be used to deal with such repositories.

Note that this feature is not installed by default.  To install it, you must run the following command:
{code}
karaf@root:/> features:install obr
{code}

|| Command  || Description ||
| addUrl     | Add a list of repository URLs to the repository service |
| deploy     | Deploy |
| info       | Display the meta-data for the specified bundles. |
| list       | List |
| listUrl    | Display the repository URLs currently associated with the repository service. |
| removeUrl  | Remove a list of repository URLs from the repository service |
| source     | Source |
| start      | Start |

h2. OSGi shell

The OSGi sub-shell provides commands for managing the OSGi framework: listing OSGi bundles, services, managing bundle lifecycles.
Look at the online help (launch {{osgi help}} command) for more informations.

|| Command           || Description ||
| bundle-level        | Get or set the start level of a given bundle |
| headers             | Display headers |
| install             | Install bundle |
| list                | List bundles |
| ls                  | List services |
| refresh             | Refresh bundle |
| update              | Update bundle |
| resolve             | Resolve bundle |
| shutdown            | Shutdown |
| start               | Start bundle |
| start-level         | Get or set the start level |
| stop                | Stop bundle |
| uninstall           | Uninstall bundle |

h2. Package shell

|| Command      || Description ||
| imports        | Display imported packages |
| exports        | Display exported packages |

h2. Shell shell

|| Command  || Description ||
| cat        | Displays the content of a file or url |
| echo       | Echoes or prints arguments to STDOUT |
| exec       | Executes system processes |
| grep       | Prints lines matching the given pattern |
| info       | Prints system informations |
| java       | Execute a Java standard application |
| printf     | Format and print arguments |
| sleep      | Sleeps for a bit then wakes up |
| sort       | Write sorted concatenation of all files to standard output. |
| tac        | Captures the STDIN and returns it as a string. Optionally writes the content to a file |


Examples:
{code}
cat mvn:org.apache.servicemix/servicemix/3.2.1/pom
{code}
or
{code}
log:display | grep error
{code}

h2. SSH shell

|| Command  || Description ||
| ssh        | Connects to a remote SSH server |
| sshd       | Creates a SSH server |

h2. Wrapper shell

Note that this feature is not installed by default.  To install it, you must run the following command:
{code}
karaf@root:/> features:install wrapper
{code}

|| Command  || Description ||
| install    | Install the container as a system service in the OS. |

[#top]
{scrollbar}
